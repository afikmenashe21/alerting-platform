# Example Terraform variables file
# Copy this to terraform.tfvars and customize for your deployment

# Core Configuration
project_name = "alerting-platform"
environment  = "prod"
aws_region   = "us-east-1"  # Change to your preferred region

# Database Configuration
# IMPORTANT: Change these to secure values!
db_username = "postgres"
db_password = "CHANGE_THIS_TO_A_SECURE_PASSWORD"  # Use a strong password!

# Network Configuration
vpc_cidr = "10.0.0.0/16"
availability_zones = ["us-east-1a", "us-east-1b"]  # Must be in your chosen region

# ECS Configuration
# Free tier eligible: t3.micro
ecs_instance_type   = "t3.micro"
ecs_desired_capacity = 2   # 2 for HA, 1 to save costs
ecs_min_size        = 1
ecs_max_size        = 4

# RDS Configuration
# Free tier eligible: db.t3.micro with 20GB storage
db_instance_class   = "db.t3.micro"
db_allocated_storage = 20

# Service Configuration
service_desired_count = 1  # Start with 1 instance per service
service_max_count     = 3  # Can auto-scale up to 3

# Container Configuration
container_cpu    = 256   # 0.25 vCPU per container
container_memory = 512   # 512 MB per container

# Kafka Configuration
kafka_partitions         = 9  # 9 partitions allows scaling to 9 instances
kafka_replication_factor = 1  # Single broker setup

# Monitoring and Logging
enable_container_insights = false  # Set to true if you want detailed metrics (costs money)
log_retention_days       = 7       # CloudWatch log retention (7 days to save costs)

# Email Configuration (Strategy Pattern - multiple provider support)
# Primary: Resend (fast, 3000 emails/month free)
# Fallback: AWS SES (requires production access approval)
email_provider = "resend"                    # "resend" (default), "ses", or "" for auto-detect
email_from     = "alerts@your-domain.com"    # Must match verified domain in Resend
resend_api_key = "re_YOUR_API_KEY_HERE"      # Get from https://resend.com/api-keys
                                              # Stored securely in AWS SSM Parameter Store

# Docker Image Configuration
image_tag = "latest"  # Or use specific version/commit hash

# Tags
tags = {
  Project     = "alerting-platform"
  Environment = "prod"
  ManagedBy   = "terraform"
  Owner       = "your-team"
}
